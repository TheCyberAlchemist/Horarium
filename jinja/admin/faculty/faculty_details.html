{% extends 'admin/base.html' %}
{% block title %}Faculty{% endblock title %}
{% block css %}
    <link rel="stylesheet" href="{{static ('admin/details/dbtable.css')}}">
    <link rel="stylesheet" href="{{static ('form/form.css')}}">
    <link rel="stylesheet" href="{{static ('admin/details/select2/select2.css')}}">
    <link rel="stylesheet" href="{{static ('admin/details/select2/myselect2.css')}}">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
{% endblock css %}
{% block scripts %}
    <script src="{{static ('admin/details/dbtable.js')}}" charset="utf-8"></script>
    <script src="{{static ('form/form.js')}}" charset="utf-8"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script src="{{static ('form/pagination.js')}}" charset="utf-8"></script>
{% endblock scripts %}

{% block content %}
  <div class="whole_container" id="whole_container_id" >
    <fieldset>
      <legend>Add Faculty</legend>

      <form class="myform" method = "POST" style="display: none;">
        {{csrf_input}}
        <img class="form_hider" src="{{static ('admin/details/img/close.png')}}" alt="hide">
        <div id="first_page">
          <div class="input_container_double">

            <div class="input_container_double_1">
              <img class="input_icons" src="{{static ('admin/details/img/user.png')}}" alt="">
              <input type="text" class="form_input" name="first_name" required autocomplete="off">
              <label for="first_name" class="form_input_label">
                <div class="text">First Name</div>
                <div class="line"></div>
              </label>
            </div>
            
            <div class="input_container_double_2">
              <img class="input_icons" src="{{static ('admin/details/img/user.png')}}" alt="">
              <input type="text" class="form_input" name="last_name" required autocomplete="off">
              <label for="last_name" class="form_input_label">
                <div class="text">Last Name</div>
                <div class="line"></div>
              </label>
            </div>
          </div>
          <div class="input_container_double">
            <div class="input_container_double_1">
              <img class="input_icons" src="{{static ('admin/details/img/user1.png')}}" alt="">
              <input type="text" class="form_input short_names" name="short" required autocomplete="off">
              <label for="short" class="form_input_label">
                <div class="text">Short Name</div>
                <div class="line"></div>
              </label>
            </div>
            <div class="input_container_double_2">
              <img class="input_icons" src="{{static ('admin/details/img/mail.png')}}" alt="email">
              <input type="email" class="form_input" name="email" required autocomplete="off">
              <label for="email" class="form_input_label">
                <div class="text">Email Id</div>
                <div class="line"></div>
              </label>
            </div>
          </div>

          <div class="input_container_double">

            <div class="input_container_double_1">
              <img class="input_icons" src="{{static ('admin/details/img/key.png')}}" alt="key">
              <input type="password" class="form_input" name="password1" id="myinput1"  required autocomplete="off" >
              <label for="password1" class="form_input_label">
                <div class="text">Password</div>
                <div class="line"></div>
              </label>
              <span id="eye_double" onclick="visibility1(parent)">
                <i class="fa fa-eye fa-lg" id="hide1" aria-hidden="true"></i>
                <i class="fa fa-eye-slash fa-lg" id="hide2" aria-hidden="true"></i>
              </span>
            </div>
            <div class="input_container_double_2">
              <img class="input_icons" src="{{static ('admin/details/img/key.png')}}" alt="key">
              <input type="password" class="form_input" name="password2" id="myinput2"  required autocomplete="off">
              <label for="password2" class="form_input_label">
                <div class="text">Confirm Password</div>
                <div class="line"></div>
              </label>
              <span id="eye_double" onclick="visibility2(parent)">
                <i class="fa fa-eye fa-lg" id="hide3" aria-hidden="true"></i>
                <i class="fa fa-eye-slash fa-lg" id="hide4" aria-hidden="true"></i>
              </span>
            </div>
          </div>
        </div>

        <div id="second_page" style="display: none">        
          <div class="input_container">
            <img class="input_icons" src="{{static ('admin/details/img/clock.png')}}" alt="load">
            <input type="number" class="form_input" name="total_load" required autocomplete="off">
            <label for="total_load" class="form_input_label">
              <div class="text">Total Load of Faculty(in hrs)</div>
              <div class="line"></div>
            </label>
          </div>

          <div class="select2_grid">
            <div class="select2_container">
              <select name="Designation_id" id="designations">
                <option disabled selected>Select Designation</option>
                {% for designation in designations %}
                  <option value="{{designation.id}}">{{designation}}</option>
                {%endfor%}
              </select>
            </div>

            <div class="select2_container">
              <select name="Shift_id" id="shifts">
                <option disabled selected>Select Shift</option>
                {% for shift in my_shifts %}
                  <option value="{{shift.id}}">{{shift}}</option>
                {%endfor%}
              </select>
            </div>
          </div>
        </div>

        <div id="third_page" style="display:none">
          <fieldset>
            <legend>Can Teach</legend>
            <!-- {%for sem in my_sems%}
              <div class="checkboxes chx_heading">
                <input type="checkbox" id="{{sem.id}}">
                <label for="{{sem.id}}"><strong>{{sem}}</strong></label>
              </div>
              {% for subject in subjects %}
                {% if subject.Semester_id == sem %}
                  <div class="checkboxes_container">
                      <div class="checkboxes">
                          <input type="checkbox" id="{{subject.id}}" value="{{subject.id}}">
                          <label for="{{subject.id}}"><b>{{subject}}</b></label>
                      </div>
                  </div>
                {% endif %}
              {% endfor %}
            {% endfor %} -->

              <div class="can_container" >
                <!-- <img class="input_icons caret" src="{{static ('admin/details/img/caret.png')}}" alt=""> -->
                <ul id="branches">
                  
                  {%for branch in branches%}
                    <li>
                      <div class="checkboxes">
                        <input type="checkbox" id="id" value="id">
                        <label for="id"><b>{{branch}}</b></label>
                    </div>
                      <!-- <input type="checkbox" />{{branch}} -->
                      <ul id="semesters" class="dir">
                        {%for sem in my_sems %}
                        <li>
                          <div class="checkboxes">
                            <input type="checkbox" id="{{sem.id}}" value="">
                            <label for="{{sem.id}}"><b>{{sem}}</b></label>
                        </div>
                          <!-- <input type="checkbox" />{{sem}} -->
                          <!-- <img class="input_icons caret" src="{{static ('admin/details/img/caret.png')}}" alt="dept"> -->
                          <ul id="subjects">
                            {%for subject in subjects%}
                              <li>
                                <div class="checkboxes">
                                  <input type="checkbox" id="{{subject.id}}" value="{{subject.id}}">
                                  <label for="{{subject.id}}"><b>{{subject}}</b></label>
                              </div>
                                <!-- <input type="checkbox" />{{subject}} -->
                              </li>
                              {%endfor%}
                          </ul>
                        </li>
                        {%endfor%}
                      </ul>
                    </li>
                  {%endfor%}
                </ul>
              </div>

          </fieldset>
          <div class="submit_button_container">
            <button type="submit" name="button" class="submit_button">Submit</button>
          </div>
        </div>
    
        <!-- <div class="page_changer_button_container" id="page_changer_button_container">
          <button class="page_change_button" id="page_change" onclick="pageChanger()">
            >
          </button>
        </div> -->
      </form>

      <div class="form_visibility_img_container">
        <button class="show_form_button" onclick="form_visibility()">
        <p id="myp">Show Form</p>
        </button>
      </div>

      <div class="pagination_container" style="display: none;">
        <div class="numbers" id="first"> <a href="#"><h3>1</h3></a> </div>
        <div class="numbers" id="second"><a href="#"><h3>2</h3></a> </div>
        <div class="numbers" id="third"><a href="#"><h3>3</h3></a> </div>
        <!-- <div class="numbers" id="fourth"><a href ="{{url ('show_not_avail' ,args=[1])}}"><h3>4</h3></a> </div> -->
      </div>
      
      {% if integrityErrors %}
        <div class="errors_container">
          <p>
            {{integrityErrors}}
          </p>
        </div>
      {% endif %}
<!-- 
      {% if errors %}
        <div class="errors_container">
          <p>
            {{errors}}
          </p>
        </div>
      {% endif %} -->
    </fieldset>

    <div class="table_container">
      <div class="table_search_box">
        <input type="text" id = "myinput" name="" placeholder="Search..." onkeyup="searchFun()" >
      </div>
      <table id = "db_table">
        <thead>
          <tr>
            <div class="delete_panel">
              <h1>Faculties of {{institute}}</h1>
              <a style="display: none;" id="del" onclick="delete_entries()" >
                <img class="action_icons" src="{{static ('admin/details/img/delete.png')}}" alt="delete" title="Delete" >
              </a>
            </div>
            <th>Id</th>
            <th>Faculty Name</th>
            <th>Short</th>
            <th>Edit</th>
            <th>
              <div class="checkboxes" onclick="checkAll();">
                <input type="checkbox"  id="parent" name="parent" value="parent">
                <label for="parent"></label> 
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          {% for department in departments %}
            <tr>
              <td>{{loop.index}}</td>
              <td>{{department.name}}</td>
              <td>{{department.short}}</td>
              <td>
                <a href = "{{url ('update_department' ,args=[department.id])}}">
                  <img class="action_icons" src="{{static ('admin/details/img/pen.png')}}" alt="pen" title="Edit" >
                </a>
              </td>
              <td>
                <div class="checkboxes" onclick="checkSelected()">
                  <input type="checkbox" class="del_input" id="{{loop.index}}" name="del" value="{{department.id}}">
                  <label for="{{loop.index}}"></label>
                </div>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

{%endblock%}
